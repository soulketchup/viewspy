!function(t){t.viewspy=t.extend((function(a,e){var i=arguments.callee;return new function(a,e){e=t.extend({},i.defaultOptions,e);var n,r,o,s=t(a),f=null,h=t(e.root),l=t(window),c=(n=function(t){this.update(!1)},r=this,o=!1,requestAnimationFrame?function(t){o||(o=requestAnimationFrame((function(){n.apply(r,[t]),o=!1})))}:function(t){o||(o=setTimeout((function(){n.apply(r,[t]),o=!1}),1e3/30))});this.destroy=function(){l.off("resize",c),h.off("scroll",c)},this.update=function(a){var n=h[0].scrollTop||h[0].scrollY||0,r=h[0].clientHeight||h[0].innerHeight||0;s.each((function(o,s){var l=t(s),c=h[0]==window?l.offset().top:l.offset().top-h.offset().top+n,u=s.offsetHeight||1,p=Math.min(e.threshold,r/u),d=(n+r-(c+u*p)+e.margin)/(u+r+2*e.margin-2*u*p),v={ratio:d,top:c-n,bottom:n+r-c-u,y:c,height:u,state:"",reverse:!!f&&f.ratio>d};if(e.always||!f||d>1&&f.ratio<=1||d<0&&f.ratio>=0||d>=0&&d<=1||a)for(var y in d>=0&&d<=1?(!f||f.ratio<0||f.ratio>1)&&(v.state="in"):f?f.ratio>=0&&f.ratio<=1&&(v.state="out"):d>1&&(v.state="out"),l.triggerHandler("viewspy",[v,e]),e.parallax){var m=e.parallax[y];i.parallax[m]?i.parallax[m].apply(l,[t(y,l),v,e]):m.apply(l,[t(y,l),v,e])}f=v}))},h.on("scroll",c),l.on("resize",c),l.trigger("resize")}(a,e)}),{defaultOptions:{root:window,always:!1,threshold:0,margin:0,parallax:{}},parallax:{inner:function(a,e,i){var n=Math.min(1,Math.max(0,e.ratio));t.each(a,(function(t,a){a.style.transform="translate3d(0,"+(e.height-a.offsetHeight)*n+"px,0)"}))},"inner-reverse":function(a,e,i){var n=Math.min(1,Math.max(0,e.ratio));t.each(a,(function(t,a){a.style.transform="translate3d(0,"+(e.height-a.offsetHeight)*(1-n)+"px,0)"}))},overflow:function(a,e,i){var n=Math.min(1,Math.max(0,e.ratio));t.each(a,(function(t,a){a.style.transform="translate3d(0,"+-100*(n-.5)+"%,0)"}))},"overflow-reverse":function(a,e,i){var n=Math.min(1,Math.max(0,e.ratio));t.each(a,(function(t,a){a.style.transform="translate3d(0,"+100*(n-.5)+"%,0)"}))}}}),t.fn.viewspy=function(a){if("destroy"===a)return this.each((function(){t.each(t.data(this,"viewspy"),(function(){this.destroy()}))})).data("viewspy",null);if("update"===a)return this.each((function(){t.each(t.data(this,"viewspy"),(function(){this.update(!0)}))}));var e=t.viewspy(this,a);return this.each((function(){var a=t.data(this,"viewspy");t.data(this,"viewspy",a?a.concat(e):[e])}))}}(window.jQuery);